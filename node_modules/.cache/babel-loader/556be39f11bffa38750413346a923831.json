{"ast":null,"code":"// api\nimport { usersAPI } from './api'; // types\n\nimport types from './types';\nexport function acceptAddFriend(userId) {\n  return {\n    type: types.ADD_FRIEND,\n    userId\n  };\n}\nexport function acceptDeleteFriend(userId) {\n  return {\n    type: types.DELETE_FRIEND,\n    userId\n  };\n}\nexport function setUsers(users) {\n  return {\n    type: types.SET_USERS,\n    users\n  };\n}\nexport function setCurrentPage(currentPage) {\n  return {\n    type: types.SET_CURRENT_PAGE,\n    currentPage\n  };\n}\nexport function setTotalCount(totalCount) {\n  return {\n    type: types.SET_TOTAL_COUNT,\n    totalCount\n  };\n}\nexport function setToggleIsFetching(isFetching) {\n  return {\n    type: types.TOGGLE_IS_FETCHING,\n    isFetching\n  };\n}\nexport function setWaitIsSubscribe(isFetching, userId) {\n  return {\n    type: types.TOGGLE_IS_WAIT_SUBSCRIBE,\n    isFetching,\n    userId\n  };\n}\nexport function getUsersThunk(currentPage, pageSize) {\n  return dispatch => {\n    dispatch(setToggleIsFetching(true));\n    usersAPI.getUsers(currentPage, pageSize).then(data => {\n      dispatch(setToggleIsFetching(false));\n      dispatch(setUsers(data.items));\n      dispatch(setTotalCount(data.totalCount));\n      dispatch(setCurrentPage(currentPage));\n    });\n  };\n}\nexport function deleteFriendThunk(userId) {\n  return dispatch => {\n    dispatch(setWaitIsSubscribe(true, userId));\n    usersAPI.deleteFriend(userId).then(data => {\n      if (data.resultCode === 0) {\n        dispatch(acceptDeleteFriend(userId));\n      }\n\n      dispatch(setWaitIsSubscribe(false, userId));\n    });\n  };\n}\nexport function addFriendThunk(userId) {\n  return dispatch => {\n    dispatch(setWaitIsSubscribe(true, userId));\n    usersAPI.addFriend(userId).then(data => {\n      if (data.resultCode === 0) {\n        dispatch(acceptAddFriend(userId));\n      }\n\n      dispatch(setWaitIsSubscribe(false, userId));\n    });\n  };\n}","map":{"version":3,"sources":["/Users/a17092425/Desktop/pet/it-kamasutra/src/state/users/actions.js"],"names":["usersAPI","types","acceptAddFriend","userId","type","ADD_FRIEND","acceptDeleteFriend","DELETE_FRIEND","setUsers","users","SET_USERS","setCurrentPage","currentPage","SET_CURRENT_PAGE","setTotalCount","totalCount","SET_TOTAL_COUNT","setToggleIsFetching","isFetching","TOGGLE_IS_FETCHING","setWaitIsSubscribe","TOGGLE_IS_WAIT_SUBSCRIBE","getUsersThunk","pageSize","dispatch","getUsers","then","data","items","deleteFriendThunk","deleteFriend","resultCode","addFriendThunk","addFriend"],"mappings":"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","sourcesContent":["// api\nimport { usersAPI } from './api';\n\n// types\nimport types from './types';\n\nexport function acceptAddFriend(userId) {\n    return {\n        type: types.ADD_FRIEND,\n        userId\n    }\n}\n\nexport function acceptDeleteFriend(userId) {\n    return {\n        type: types.DELETE_FRIEND,\n        userId\n    }\n}\n\nexport function setUsers(users) {\n    return {\n        type: types.SET_USERS,\n        users\n    }\n}\n\nexport function setCurrentPage(currentPage) {\n    return {\n        type: types.SET_CURRENT_PAGE,\n        currentPage\n    }\n}\n\nexport function setTotalCount(totalCount) {\n    return {\n        type: types.SET_TOTAL_COUNT,\n        totalCount\n    }\n}\n\nexport function setToggleIsFetching(isFetching) {\n    return {\n        type: types.TOGGLE_IS_FETCHING,\n        isFetching\n    }\n}\n\nexport function setWaitIsSubscribe(isFetching, userId) {\n    return {\n        type: types.TOGGLE_IS_WAIT_SUBSCRIBE,\n        isFetching,\n        userId\n    }\n}\n\nexport function getUsersThunk(currentPage, pageSize) {\n    return (dispatch) => {\n        dispatch(setToggleIsFetching(true));\n\n        usersAPI.getUsers(currentPage, pageSize)\n            .then(data => {\n                dispatch(setToggleIsFetching(false));\n                dispatch(setUsers(data.items));\n                dispatch(setTotalCount(data.totalCount));\n                dispatch(setCurrentPage(currentPage))\n            })\n    }\n}\n\nexport function deleteFriendThunk(userId) {\n\n    return (dispatch) => {\n        dispatch(setWaitIsSubscribe(true, userId))\n        usersAPI.deleteFriend(userId).then(data => {\n            if (data.resultCode === 0) {\n                dispatch(acceptDeleteFriend(userId))\n            }\n            dispatch(setWaitIsSubscribe(false, userId))\n        })\n    }\n}\n\nexport function addFriendThunk(userId) {\n\n    return (dispatch) => {\n        dispatch(setWaitIsSubscribe(true, userId))\n        usersAPI.addFriend(userId).then(data => {\n            if (data.resultCode === 0) {\n                dispatch(acceptAddFriend(userId))\n            }\n            dispatch(setWaitIsSubscribe(false, userId))\n        })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}