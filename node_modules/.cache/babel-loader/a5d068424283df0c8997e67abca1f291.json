{"ast":null,"code":"var _jsxFileName = \"/Users/a17092425/Desktop/pet/it-kamasutra/src/components/Users/Users.jsx\";\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux'; // actions\n\nimport { getUsersThunk } from '../../state/users/actions'; // components\n\nimport Preloader from '../common/Preloader/Preloader';\nimport Paginator from '../Paginator';\nimport Item from './Item';\nimport styles from './Users.module.css';\n\nfunction Users() {\n  const dispatch = useDispatch();\n  const pageSize = useSelector(state => state.users.pageSize);\n  const currentPage = useSelector(state => state.users.currentPage);\n  const users = useSelector(state => state.users.users);\n  const totalCount = useSelector(state => state.users.totalCount);\n  const isFetching = useSelector(state => state.users.isFetching);\n  const subscribersList = useSelector(state => state.users.subscribersList);\n  useEffect(() => {\n    dispatch(getUsersThunk(currentPage, pageSize));\n  }, [currentPage, dispatch, pageSize]);\n\n  if (isFetching) {\n    return /*#__PURE__*/React.createElement(Preloader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.users,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Paginator, {\n    totalCount: totalCount,\n    pageSize: pageSize,\n    currentPage: currentPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.user__list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, users.map(u => {\n    return /*#__PURE__*/React.createElement(Item, {\n      userid: u.id,\n      photos: u.photos,\n      status: u.status,\n      name: u.name,\n      followed: u.followed,\n      subscribersList: subscribersList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 32\n      }\n    });\n  })));\n}\n\nexport default Users;","map":{"version":3,"sources":["/Users/a17092425/Desktop/pet/it-kamasutra/src/components/Users/Users.jsx"],"names":["React","useEffect","useSelector","useDispatch","getUsersThunk","Preloader","Paginator","Item","styles","Users","dispatch","pageSize","state","users","currentPage","totalCount","isFetching","subscribersList","user__list","map","u","id","photos","status","name","followed"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CAEA;;AACA,SACIC,aADJ,QAEO,2BAFP,C,CAIA;;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;;AAEA,SAASC,KAAT,GAAiB;AACb,QAAMC,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAMQ,QAAQ,GAAGT,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYF,QAAtB,CAA5B;AACA,QAAMG,WAAW,GAAGZ,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,WAAtB,CAA/B;AACA,QAAMD,KAAK,GAAGX,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYA,KAAtB,CAAzB;AACA,QAAME,UAAU,GAAGb,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYE,UAAtB,CAA9B;AACA,QAAMC,UAAU,GAAGd,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYG,UAAtB,CAA9B;AACA,QAAMC,eAAe,GAAGf,WAAW,CAACU,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYI,eAAtB,CAAnC;AAEAhB,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,QAAQ,CAACN,aAAa,CAACU,WAAD,EAAcH,QAAd,CAAd,CAAR;AACH,GAFQ,EAEN,CAACG,WAAD,EAAcJ,QAAd,EAAwBC,QAAxB,CAFM,CAAT;;AAIA,MAAIK,UAAJ,EAAgB;AACZ,wBAAO,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAER,MAAM,CAACK,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,SAAD;AAAW,IAAA,UAAU,EAAEE,UAAvB;AAAmC,IAAA,QAAQ,EAAEJ,QAA7C;AAAuD,IAAA,WAAW,EAAEG,WAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAII;AAAI,IAAA,SAAS,EAAEN,MAAM,CAACU,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQL,KAAK,CAACM,GAAN,CAAUC,CAAC,IAAI;AACX,wBAAO,oBAAC,IAAD;AACK,MAAA,MAAM,EAAEA,CAAC,CAACC,EADf;AAEK,MAAA,MAAM,EAAED,CAAC,CAACE,MAFf;AAGK,MAAA,MAAM,EAAEF,CAAC,CAACG,MAHf;AAIK,MAAA,IAAI,EAAEH,CAAC,CAACI,IAJb;AAKK,MAAA,QAAQ,EAAEJ,CAAC,CAACK,QALjB;AAMK,MAAA,eAAe,EAAER,eANtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAQH,GATD,CAFR,CAJJ,CADJ;AAqBH;;AAED,eAAeR,KAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\n// actions\nimport {\n    getUsersThunk,\n} from '../../state/users/actions';\n\n// components\nimport Preloader from '../common/Preloader/Preloader';\nimport Paginator from '../Paginator';\nimport Item from './Item';\n\nimport styles from './Users.module.css';\n\nfunction Users() {\n    const dispatch = useDispatch();\n    const pageSize = useSelector(state => state.users.pageSize);\n    const currentPage = useSelector(state => state.users.currentPage);\n    const users = useSelector(state => state.users.users);\n    const totalCount = useSelector(state => state.users.totalCount);\n    const isFetching = useSelector(state => state.users.isFetching);\n    const subscribersList = useSelector(state => state.users.subscribersList);\n\n    useEffect(() => {\n        dispatch(getUsersThunk(currentPage, pageSize));\n    }, [currentPage, dispatch, pageSize])\n\n    if (isFetching) {\n        return <Preloader />\n    }\n\n    return (\n        <div className={styles.users}>\n            {/* TODO Поправить пагинатор */}\n            <Paginator totalCount={totalCount} pageSize={pageSize} currentPage={currentPage} />\n\n            <ul className={styles.user__list}>\n                {\n                    users.map(u => {\n                        return <Item\n                                    userid={u.id}\n                                    photos={u.photos}\n                                    status={u.status}\n                                    name={u.name}\n                                    followed={u.followed}\n                                    subscribersList={subscribersList}\n                                />\n                    })\n                }\n            </ul>\n        </div>\n    )\n}\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}