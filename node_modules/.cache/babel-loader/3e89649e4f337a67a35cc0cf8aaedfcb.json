{"ast":null,"code":"var _jsxFileName = \"/Users/a17092425/Desktop/pet/it-kamasutra/src/components/Users/UsersContainer.jsx\";\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux'; // actions\n\nimport { deleteFriendThunk, addFriendThunk, getUsersThunk } from '../../state/users/actions'; // components\n//import Users from './Users/Users';\n\nimport Preloader from '../common/Preloader/Preloader';\nimport Paginator from '../Paginator';\nimport styles from './Users/Users.module.css';\n\nfunction UsersContainer() {\n  const dispatch = useDispatch();\n  const pageSize = useSelector(state => state.users.pageSize);\n  const currentPage = useSelector(state => state.users.currentPage);\n  const users = useSelector(state => state.users.users);\n  const totalCount = useSelector(state => state.users.totalCount);\n  const isFetching = useSelector(state => state.users.isFetching);\n  const subscribersList = useSelector(state => state.users.subscribersList);\n  useEffect(() => {\n    dispatch(getUsersThunk(currentPage, pageSize));\n  }, [currentPage, dispatch, pageSize]);\n\n  if (isFetching) {\n    return /*#__PURE__*/React.createElement(Preloader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return (\n    /*#__PURE__*/\n    // <Users totalCount={totalCount}\n    //     pageSize={pageSize}\n    //     currentPage={currentPage}\n    //     users={users}\n    //     subscribersList={subscribersList}\n    // />\n    React.createElement(\"div\", {\n      className: styles.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Paginator, {\n      totalCount: totalCount,\n      pageSize: pageSize,\n      currentPage: currentPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.user__list,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, users.map(u => /*#__PURE__*/React.createElement(\"li\", {\n      key: u.id,\n      className: styles.user__cell,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/profile/\" + u.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: u.photos.large ? u.photos.large : userPhoto,\n      className: styles.img,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 33\n      }\n    }, u.status), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }, u.name)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 29\n      }\n    }, u.followed ? /*#__PURE__*/React.createElement(\"button\", {\n      disabled: subscribersList.some(id => id === u.id),\n      className: styles.button,\n      onClick: () => {\n        dispatch(deleteFriendThunk(u.id));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 41\n      }\n    }, \"delete friend\") : /*#__PURE__*/React.createElement(\"button\", {\n      disabled: subscribersList.some(id => id === u.id),\n      className: styles.button,\n      onClick: () => {\n        dispatch(addFriendThunk(u.id));\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 41\n      }\n    }, \"add friend\"))))))\n  );\n}\n\nexport default UsersContainer;","map":{"version":3,"sources":["/Users/a17092425/Desktop/pet/it-kamasutra/src/components/Users/UsersContainer.jsx"],"names":["React","useEffect","useSelector","useDispatch","deleteFriendThunk","addFriendThunk","getUsersThunk","Preloader","Paginator","styles","UsersContainer","dispatch","pageSize","state","users","currentPage","totalCount","isFetching","subscribersList","user__list","map","u","id","user__cell","photos","large","userPhoto","img","status","name","followed","some","button"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\n// actions\nimport {\n    deleteFriendThunk,\n    addFriendThunk,\n    getUsersThunk,\n} from '../../state/users/actions';\n\n// components\n//import Users from './Users/Users';\nimport Preloader from '../common/Preloader/Preloader';\nimport Paginator from '../Paginator';\n\nimport styles from './Users/Users.module.css';\n\nfunction UsersContainer() {\n    const dispatch = useDispatch();\n    const pageSize = useSelector(state => state.users.pageSize);\n    const currentPage = useSelector(state => state.users.currentPage);\n    const users = useSelector(state => state.users.users);\n    const totalCount = useSelector(state => state.users.totalCount);\n    const isFetching = useSelector(state => state.users.isFetching);\n    const subscribersList = useSelector(state => state.users.subscribersList);\n\n    useEffect(() => {\n        dispatch(getUsersThunk(currentPage, pageSize));\n    }, [currentPage, dispatch, pageSize])\n\n    if (isFetching) {\n        return <Preloader />\n    }\n\n    return (\n        // <Users totalCount={totalCount}\n        //     pageSize={pageSize}\n        //     currentPage={currentPage}\n        //     users={users}\n        //     subscribersList={subscribersList}\n        // />\n\n        <div className={styles.users}>\n            <Paginator totalCount={totalCount} pageSize={pageSize} currentPage={currentPage} />\n\n            <ul className={styles.user__list}>\n                {\n                    users.map(u =>\n                        <li key={u.id} className={styles.user__cell}>\n                            <NavLink to={\"/profile/\" + u.id}>\n                                <img src={u.photos.large ? u.photos.large : userPhoto} className={styles.img} alt=\"\" />\n                                <span>{u.status}</span>\n                                <span>{u.name}</span>\n                            </NavLink>\n\n                            <div>\n                                {\n                                    u.followed ?\n                                        <button\n                                            disabled={subscribersList.some(id => id === u.id)}\n                                            className={styles.button}\n                                            onClick={() => {\n                                                dispatch(deleteFriendThunk(u.id))\n                                            }}>\n                                            delete friend\n                                </button>\n                                        :\n                                        <button\n                                            disabled={subscribersList.some(id => id === u.id)}\n                                            className={styles.button} onClick={() => {\n                                                dispatch(addFriendThunk(u.id))\n                                            }}>\n                                            add friend\n                                </button>\n                                }\n                            </div>\n                        </li>)\n                }\n            </ul>\n        </div>\n    )\n}\n\nexport default UsersContainer;\n"]},"metadata":{},"sourceType":"module"}